(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1020:function(e,t,a){var n=a(573),c=a(251),o=a(249),s=a(92),i=a(206),r=a(250),l=a(248),d=a(322),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||r(e)||d(e)||o(e)))return!e.length;var t=c(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!n(e).length;for(var a in e)if(u.call(e,a))return!1;return!0}},2507:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(56),c=a.n(n),o=a(1),s=a.n(o),i=a(11),r=a.n(i),l=a(955),d=a(1020),u=a.n(d);var g={"淘宝":"taobao","天猫":"tmall","京东":"jingdong","京东自营":"jingdongSale","知乎":"zhihu","美团酒旅":"meituanhotel","苏宁":"suning","有赞":"youzan"},m=a(3),b=a.n(m),v=a(5),O=function(e){var t=e.className,a=e.style,n=e.imgUrl,c=e.title,o=e.price,s=void 0===o?0:o,i=e.source,l=e.productType,d=e.showBottomLine,u=void 0===d||d,m=e.onClick,b="¥ ".concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.trimZero,n=void 0!==a&&a,c=String(e).padStart(2,"0").slice(-2);return n&&"00"===c?"".concat(Math.floor(e/100)):"".concat(Math.floor(e/100),".").concat(c)}(parseInt(s))),O=i;"zhihu"===g[i]&&7===l&&(O="知乎 · 纸书");return Object(v.g)("div",{className:r()("GoodsItemCard",t),style:a,onClick:m},Object(v.g)("div",{className:"GoodsItemCard-left"},Object(v.g)("div",{className:"GoodsItemCard-imgLayer"}),Object(v.g)("img",{className:"GoodsItemCard-imgUrl",src:n,alt:"",onError:function(){}})),Object(v.g)("div",{className:"GoodsItemCard-right"},Object(v.g)("div",{className:"GoodsItemCard-title"},c),Object(v.g)("div",{className:"GoodsItemCard-footer"},Object(v.g)("span",{className:"GoodsItemCard-price"},b),Object(v.g)("span",{className:"GoodsItemCard-footerText"},O))),Object(v.g)("div",{className:"GoodsItemCard-bottomLine",style:{display:u?"block":"none"}}))};O.prototype={className:b.a.string,style:b.a.object,imgUrl:b.a.string.isRequired,title:b.a.string.isRequired,price:b.a.number,source:b.a.string.isRequired,productType:b.a.number,showBottomLine:b.a.bool,onClick:b.a.func};var j=O,p=a(960),f=a(38),h=a.n(f),C=function(){return Object(v.g)(s.a.Fragment,null)},k={SkeletonH01:function(e){var t=e.lineClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t}))},SkeletonP01:function(e){var t=e.lineClass,a=e.blockClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:a}),Object(v.g)("div",null,Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t})))},SkeletonT01:function(e){var t=e.lineClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t}))},SkeletonT02:function(e){var t=e.lineClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t}))},SkeletonC01:function(e){var t=e.lineClass,a=e.blockClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:a}),Object(v.g)("div",null,Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t})))},SkeletonC02:function(e){var t=e.lineClass,a=e.blockClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",null,Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t})),Object(v.g)("div",{className:a}))},SkeletonC03:function(e){var t=e.lineClass,a=e.blockClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:a}),Object(v.g)("div",{style:{width:"100%"}},Object(v.g)("div",{className:t}),Object(v.g)("div",{className:t})))},SkeletonI01:function(e){var t=e.blockClass;return Object(v.g)(s.a.Fragment,null,Object(v.g)("div",{className:t}))},SkeletonSpacing:C,SkeletonFill:C},y=s.a.memo((function(e){var t,a=e.variant,n=void 0===a?"H01":a,c=e.height,o=e.width,s=void 0===o?"auto":o,i=e.animation,l=void 0===i?"ease-in":i,d="skeleton__line--".concat(n.toLowerCase()),u="skeleton--".concat(n.toLowerCase()),g=r()(h()({skeleton__block:!0},"skeleton__block--".concat(n.toLowerCase()),!0)),m=r()(h()({skeleton__line:!0},d,!0)),b=r()((t={skeleton:!0},h()(t,u,!0),h()(t,"skeleton--ease-in","ease-in"===l),t)),O={width:s};c&&["Spacing","Fill"].includes(n)&&(O.height="number"==typeof c?"".concat(c,"px"):c);var j=k["Skeleton".concat(n)];return Object(v.g)("section",{className:b,style:O},Object(v.g)(j,{variant:n,lineClass:m,blockClass:g}))}));y.propTypes={variant:b.a.string,height:b.a.oneOfType([b.a.string,b.a.number]),width:b.a.oneOfType([b.a.string,b.a.number]),animation:b.a.oneOfType([b.a.bool,b.a.string])};var N=y;var S=s.a.memo((function(e){var t=e.content,a=function(e){return("string"==typeof e?e.split(","):e).map((function(e){var t=e.split("-"),a=c()(t,2),n=a[0],o=a[1];return["Spacing","Fill"].includes(n)?{type:n,height:+o}:{type:n,count:+o||1}}))}(void 0===t?"T01":t);return Object(v.g)(s.a.Fragment,null,a.map((function(e,t){var a=e.type,n=e.count,c=e.height;return n?Array.from({length:n}).map((function(e,n){return Object(v.g)(N,{variant:a,key:"".concat(t,"-").concat(n)})})):Object(v.g)(N,{variant:a,height:c,key:"".concat(t,"-").concat(c)})})))}));S.prototype={content:Object(m.oneOfType)([Object(m.arrayOf)(m.string),m.string])};var w=S,T=a(229),G=function(e){var t=e.className,a=e.style,n=e.showModal,i=void 0===n||n,d=e.withModal,g=void 0===d||d,m=e.modalTitle,b=void 0===m?"该商品的所有购买渠道":m,O=e.id,f=e.url,h=void 0===f?"":f,C=e.fetcherOptions,k=void 0===C?{}:C,y=e.scenes,N=void 0===y?0:y,S=e.fetcher,G=void 0===S?l.a:S,F=e.onClose,L=e.onSelectCard;Object(T.g)();var I=Object(o.useState)(0),z=c()(I,2),_=z[0],x=z[1],M=Object(o.useState)(!1),R=c()(M,2),U=R[0],B=R[1],q=Object(o.useState)([]),A=c()(q,2),E=A[0],P=A[1],H=Object(o.useState)(!1),J=c()(H,2),D=J[0],Z=J[1];Object(o.useEffect)((function(){B(!0);var e=h||"https://mcn--box-7821--www-zhihu-com.zpres.zhihu.com/api/v4/mcn/linkcard/".concat(O,"?scenes=").concat(N);G(e,k).then((function(e){var t=e.data,a=[];u()(t)||(E.push(Object.assign({},t,{children:null})),"[object Array]"===Object.prototype.toString.call(t.children)&&t.children.length&&(a=E.concat(t.children))),P(a)})).catch((function(){Z(!0)})).finally((function(){setTimeout((function(){B(!1)}),500)}))}),[O,_]);var K=Object(v.g)("div",{className:"GoodsCardList-container"},U?Object(v.g)(s.a.Fragment,null,Object(v.g)(w,{content:"C03,Spacing-26,C03",height:72})):D?Object(v.g)("div",{className:"GoodsCardList-error"},Object(v.g)("div",{className:"GoodsCardList-errorDesc"},"Oops~ 出错了"),Object(v.g)("div",{className:"GoodsCardList-errorBtn",onClick:function(){x(_+1)}},"刷新重试")):E.length?E.map((function(e){var t=e.id,a=e.skuid,n=e.title,c=e.url,o=e.img_url,s=e.price,i=e.source,r=e.product_type;return Object(v.g)(T.b,{key:"".concat(i,"-").concat(t,"-").concat(a),block:"goodsRecommend_polymericCardPopup_goodsCard",content:{type:"GoodsRecommend",id:t},extra:{link:{url:c}}},Object(v.g)(T.e,{shouldTrackShow:!0,shouldTrackClick:!0,className:"GoodsCardList-listItem",zaType:"Card",zaText:n,zaAction:"OpenUrl",zaEventType:"Click",extra:{link:{url:c}}},Object(v.g)(j,{title:n,imgUrl:o,price:s,source:i,productType:r,showBottomLine:!1,onClick:function(){return t=e,void(L&&L(t));var t}})))})):null);return g?Object(v.g)(p.a,{className:r()("GoodsCardList",t),style:a,size:"large",title:b,onClose:F},i&&K):K};G.prototype={className:b.a.string,style:b.a.object,showModal:b.a.bool,withModal:b.a.bool,modalTitle:b.a.string,id:b.a.string,url:b.a.string,fetcherOptions:b.a.object,scenes:b.a.number,fetcher:b.a.func,onClose:b.a.func,onSelectCard:b.a.func};var F=G}}]);
//# sourceMappingURL=main.GoodsRecommendGoodsCardList.fa511477a1f60a0e44b6.js.map